
<message [popup]="popup" (complete)="onComplete($event)"></message>

<div class="container-fluid container-default">
<div class="card border-0 p-3" >
    <nav class="navbar navbar-light text-primary pl-1" >
        <ul class="nav navbar-nav ">
            <li class="nav-item" >
            <a class="nav-link" [routerLink] = "['/websites', 'detail']">
                <i class="fa fa-angle-double-left"></i>
                Back</a>
            </li>
        </ul>
    </nav>

    <div class="mb-3" >
        <div><h4>Purchase for {{currentWebsite.websiteName}}</h4></div>
    </div>

    <form [formGroup]="purchaseForm" (ngSubmit)="saveIt()" >

    <div class="row">
    <div class="col-sm-12">
        <div class="form-group">
            <label class="required" for="productName">Purchase name:</label>
            <input type="text"
                class="form-control"
                id="productName"
                formControlName="productName"
                />
                <div *ngIf ="productNameMsg" class="alert alert-danger">
                        {{productNameMsg}}
                </div>
        </div>
    </div>
    </div>
    <div class="row">
        <!-- NgTempusdominusBootstrap has to be be in a row or won't popup in correct position -->
    <div class="col-sm-12">
        <div class="form-group">
                <label for="purchasedOn">Date purchased:</label>
                <div class="input-group date" data-target-input="nearest" NgTempusdominusBootstrap>
                    <input type="text"
                        class="form-control"
                        id="purchasedOn"
                        [options]="startOptions"
                        NgTempusdominusBootstrapInput
                        formControlName="purchasedOn" />
                        <div class="input-group-append" NgTempusdominusBootstrapToggle>
                            <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                        </div>
                </div>
        </div>
    </div>
    </div>
    <div class="row">
    <div class="col-sm-12" >
        <div class="form-group ">
            <label for="arrivedOn">Date received:</label>
            <div class="input-group date" data-target-input="nearest" NgTempusdominusBootstrap>
                <input type="text"
                    class="form-control"
                    id="arrivedOn"
                    [options]="startOptions"
                    NgTempusdominusBootstrapInput
                    formControlName="arrivedOn" />
                    <div class="input-group-append" NgTempusdominusBootstrapToggle>
                        <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                    </div>
            </div>
        </div>
    </div>
    </div>
        <div class="form-group">
            <label for="totalAmount">Total paid:</label>
            <div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">$</span>
                </div>
                <input type="text"
                    class="form-control"
                    id="totalAmount"
                    formControlName="totalAmount"
                    currencyMask />
            </div><!-- input-group    -->
        </div><!-- form-group    -->

        <div class="form-group">
            <label for="shippingAmount">Shipping paid:</label>
            <div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">$</span>
                </div>
                <input type="text"
                    class="form-control"
                    id="shippingAmount"
                    formControlName="shippingAmount"
                    currencyMask />
            </div> <!-- input-group    -->
        </div><!-- form-group    -->

        <div class="form-group">
            <label   for="notes">Notes:</label>
            <textarea type="text"
                class="form-control"
                id="notes"
                formControlName="notes">
                </textarea>
        </div>
        <div class="form-group">
                <div class="d-sm-inline mr-3">
                    <button class="btn btn-primary"
                        type="submit" [disabled]="!purchaseForm.valid">Save</button>
                </div>
                <div class="d-sm-inline mr-3"  *ngIf = "purchase.purchaseID" >
                    <button class="btn btn-primary" type="button" (click)="deleteIt();">Delete</button>
                </div>
                <div class="d-sm-inline" >
                    <button class="btn btn-primary"  type="button" [routerLink] = "['/websites', 'detail']">Cancel</button>
                </div>
        </div>  <!-- form-group -->



    </form>


</div> <!--card-->
</div> <!-- container -->
